# BigData App

Интеллектуальная система для анализа больших данных с использованием машинного обучения.

## Описание соответствия реализации объектной модели

На основе ER-диаграммы из лабораторной работы №2, приложение реализует следующие сущности и отношения:

### Сущности (Entities)

1. **Пользователь (User)** - соответствует сущности "Сотрудник" (Employee)

   - Атрибуты: id, username, email, password_hash, role
   - Роль определяет уровень доступа (user/admin)

2. **Набор данных (Dataset)** - соответствует сущности "Проект" (Project)

   - Атрибуты: id, filename, filepath, uploaded_at, user_id
   - Связан с пользователем (многие к одному)

3. **Модель (Model)** - соответствует сущности "Задача" (Task)

   - Атрибуты: id, name, model_type, target_column, filepath, created_at, dataset_id, user_id, status_id, project_type_id
   - Связана с набором данных, пользователем, статусом и типом проекта

4. **Статус (Status)** - соответствует сущности "Статус" (Status)

   - Атрибуты: id, name
   - Возможные значения: 'В работе', 'Завершена', 'Ошибка'

5. **Тип проекта (ProjectType)** - соответствует сущности "Тип проекта" (ProjectType)
   - Атрибуты: id, name
   - Возможные значения: 'Анализ данных', 'ML проект', 'Визуализация'

### Отношения (Relationships)

- **Пользователь → Наборы данных**: Один ко многим (1:N)

  - Один пользователь может загружать 多个 наборов данных
  - Реализовано через user_id в Dataset

- **Пользователь → Модели**: Один ко многим (1:N)

  - Один пользователь может создавать 多个 моделей
  - Реализовано через user_id в Model

- **Набор данных → Модели**: Один ко многим (1:N)
  - Из одного набора данных можно создать несколько моделей
  - Реализовано через dataset_id в Model

### BPMN-диаграммы

Приложение реализует следующие бизнес-процессы:

1. **Процесс обработки данных (ETL)**:

   - Загрузка данных пользователем
   - Предварительная обработка (очистка от NaN, кодирование категориальных признаков)
   - Тренировка модели
   - Сохранение модели

2. **Процесс предсказания**:
   - Выбор обученной модели
   - Ввод данных для предсказания
   - Получение результата

### Use Case диаграммы

Основные актеры и случаи использования:

- **Пользователь**:
  - Регистрация и вход в систему
  - Загрузка датасетов
  - Тренировка моделей ML
  - Получение предсказаний
  - Просмотр дашборда

## Структура и качество кода

### 1. Структура исходного кода

Код приложения организован согласно принципам модульной архитектуры:

- **app.py**: Точка входа, инициализация Flask-приложения и компонентов
- **models.py**: Определение моделей базы данных с использованием SQLAlchemy
- **routes.py**: Обработчики HTTP-запросов, бизнес-логика
- **config.py**: Конфигурационные параметры
- **ml/train_model.py**: Логика тренировки моделей ML
- **ml/predict.py**: Логика предсказаний
- **templates/**: HTML-шаблоны с использованием Jinja2
- **static/**: Статические ресурсы (CSS, JS, загруженные файлы)

### 2. Комментарии и стиль кодирования

- Все функции и классы содержат docstrings с описанием назначения
- Используется стиль PEP 8 для Python кода
- Переменные и функции имеют понятные названия на английском языке
- HTML-шаблоны структурированы и читаемы
- Код разбит на логические блоки с пустыми строками для разделения

### 3. Соответствие объектной модели

Реализация полностью соответствует разработанной объектной модели из лабораторной работы №2.

### 4. Отклонения от объектной модели

Все сущности из ER-диаграммы реализованы. Ранее были упрощения для минимального прототипа, но теперь система полностью соответствует объектной модели с добавлением сущностей Status и ProjectType.

## Описание

Веб-приложение на Flask для загрузки датасетов, тренировки моделей машинного обучения и получения предсказаний. Использует Bootstrap для фронтенда и scikit-learn для ML.

## Установка

1. Клонируйте репозиторий
2. Создайте виртуальное окружение:

   ```bash
   python -m venv venv
   ```

3. Активируйте окружение:
   - Windows: `venv\Scripts\activate`
   - Linux/Mac: `source venv/bin/activate`
4. Установите зависимости:

   ```bash
   pip install -r requirements.txt
   ```

## Запуск

```bash
python app.py
```

**Примечание**: Если вы обновили модели базы данных, удалите файл `instance/app.db` перед запуском, чтобы пересоздать базу данных с новой схемой.

Приложение будет доступно по адресу [http://localhost:5000](http://localhost:5000)

## Использование

1. Зарегистрируйтесь или войдите
2. Загрузите CSV или Excel файл с данными
3. Выберите датасет и тренируйте модель
4. Используйте обученную модель для предсказаний

## Структура проекта

- `app.py` - основной файл Flask
- `models.py` - модели базы данных
- `routes.py` - маршруты приложения
- `config.py` - конфигурация
- `ml/` - модули машинного обучения
- `templates/` - HTML шаблоны
- `static/` - статические файлы (CSS, JS, uploads)
